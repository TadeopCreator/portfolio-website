<div class="row" style="margin-top: 6rem;">
    <div class="col-md-12 my-2">
        <h3 class="fw-bolder section-title">
            Some Things I've Built
        </h3>
    </div>
    {% if projects %}
        {% for project in projects %}
        {% if project.featured %}
        <div class="row text-center mb-5 project-card">
            <div class="col-md-6 d-none d-md-block position-relative">
                <div class="project-image-container">
                    <a href="{{project.url}}" target="_blank" class="project-image-link">
                        <img class="img-fluid border border-success border-2 rounded rounded-3 border-opacity-50 project-image" src="{{project.image}}" alt="{{project.title}}"/>
                        <div class="project-image-overlay">
                            <div class="view-project">
                                <span>
                                    {% if project.origin == 'medium' %}
                                        View Article
                                    {% else %}
                                        View Project
                                    {% endif %}
                                </span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                                </svg>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-md-6 p-4">
                <h6 class="fw-light main-text-color">Featured Project</h6>
                <h3 class="fw-semibold project-title" style="color: #CCD6F6;">{{project.title}}</h3>
                <div class="col-md-6 d-block d-md-none d-lg-none">
                    <a href="{{project.url}}" target="_blank" class="project-image-link">
                        <img class="img-fluid border border-success border-2 rounded rounded-3 border-opacity-50" src="{{project.image}}" alt="{{project.title}}"/>
                        <div class="view-project-mobile">
                            {% if project.origin == 'medium' %}
                                View Article
                            {% else %}
                                View Project
                            {% endif %}
                        </div>
                    </a>
                </div>
                <div class="container border border-secondary border-opacity-25 rounded my-3 p-3 project-description" style="background-color: rgba(17, 33, 64, 0.7); backdrop-filter: blur(5px);">
                    <p class="light-blue-color">{{project.desc}}</p>
                </div>
                <div class="d-flex flex-column">
                    <div class="d-flex align-items-center">
                        <a class="footer-button project-link" href="{{project.url}}" target="_blank">
                            {% if project.origin == 'github' or project.origin == '' %}
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
                                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                            </svg>
                            {% endif %}
                            {% if project.origin == 'medium' %}
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-medium" viewBox="0 0 16 16">
                                <path d="M9.025 8c0 2.485-2.02 4.5-4.513 4.5A4.506 4.506 0 0 1 0 8c0-2.486 2.02-4.5 4.512-4.5A4.506 4.506 0 0 1 9.025 8zm4.95 0c0 2.34-1.01 4.236-2.256 4.236-1.246 0-2.256-1.897-2.256-4.236 0-2.34 1.01-4.236 2.256-4.236 1.246 0 2.256 1.897 2.256 4.236zM16 8c0 2.096-.355 3.795-.794 3.795-.438 0-.793-1.7-.793-3.795 0-2.096.355-3.795.794-3.795.438 0 .793 1.699.793 3.795z"/>
                            </svg>
                            {% endif %}
                            {% if project.origin == 'other' %}
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"/>
                                <path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"/>
                            </svg>
                            {% endif %}
                        </a>
                        <div class="project-tags ms-3">
                            {% for tag in project.tags %}
                                <span class="project-tag">{{ tag }}</span>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
        {% endfor %}
    {% endif %}
    </div>
</div>

<style>
    .project-card {
        transition: transform 0.3s ease;
        margin-bottom: 4rem;
    }
    
    .project-card:hover {
        transform: translateY(-5px);
    }
    
    .project-image-container {
        position: relative;
        overflow: hidden;
        border-radius: 8px;
        /* Simplified image container */
        max-height: 300px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .project-image-link {
        display: block;
        position: relative;
        cursor: pointer;
        width: 100%;
    }
    
    .project-image {
        transition: transform 0.5s ease;
        max-width: 100%;
        max-height: 300px;
        object-fit: contain;
        border-radius: 8px;
    }
    
    .project-image-container:hover .project-image {
        transform: scale(1.05);
    }
    
    .project-image-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(10, 25, 47, 0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s ease;
        border-radius: 8px;
    }
    
    .project-image-container:hover .project-image-overlay {
        opacity: 1;
    }
    
    .view-project {
        color: #57DFC2;
        font-size: 1rem;
        font-weight: 500;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .project-image-container:hover .view-project {
        opacity: 1;
        transform: translateY(0);
    }
    
    .view-project-mobile {
        display: inline-block;
        margin-top: 8px;
        color: #57DFC2;
        font-size: 0.9rem;
        text-decoration: underline;
    }
    
    .project-title {
        position: relative;
        display: inline-block;
    }
    
    .project-title::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 0;
        left: 0;
        background-color: #57DFC2;
        transition: width 0.3s ease;
    }
    
    .project-card:hover .project-title::after {
        width: 100%;
    }
    
    .project-description {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        transition: box-shadow 0.3s ease;
    }
    
    .project-card:hover .project-description {
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    }
    
    .project-link {
        transition: transform 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        background-color: rgba(17, 33, 64, 0.7);
        border-radius: 8px;
        padding: 8px;
        border: 1px solid rgba(87, 223, 194, 0.1);
    }
    
    .project-link svg {
        width: 22px;
        height: 22px;
        color: #8892B0;
        transition: color 0.2s ease;
    }
    
    .project-link:hover {
        transform: translateY(-3px);
        background-color: rgba(87, 223, 194, 0.1);
    }
    
    .project-link:hover svg {
        color: #57DFC2;
    }
    
    /* Updated project tag styles to match other projects */
    .project-tags {
        display: flex;
        flex-wrap: wrap;
        margin-top: 10px;
    }
    
    .project-tag {
        background-color: #1E3A5F;
        color: #8892B0;
        font-family: monospace;
        font-size: 12px;
        padding: 5px 10px;
        border-radius: 15px;
        margin-right: 8px;
        margin-bottom: 8px;
        transition: all 0.2s ease;
        display: inline-block;
    }
    
    .project-tag:hover {
        background-color: rgba(87, 223, 194, 0.2);
        color: #57DFC2;
    }
    
    /* Add a subtle animation for project cards when they come into view */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .project-card {
        animation: fadeInUp 0.6s ease-out forwards;
        opacity: 0;
    }
    
    .project-card:nth-child(2) {
        animation-delay: 0.2s;
    }
    
    .project-card:nth-child(3) {
        animation-delay: 0.4s;
    }
    
    /* Fix for mobile images */
    .col-md-6.d-block.d-md-none.d-lg-none {
        position: relative;
        margin-bottom: 15px;
    }
</style>

<script>
    // Animate projects when they come into view
    document.addEventListener('DOMContentLoaded', function() {
        const projectCards = document.querySelectorAll('.project-card');
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.2 });
        
        projectCards.forEach(card => {
            observer.observe(card);
        });
    });
</script>